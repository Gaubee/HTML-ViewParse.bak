<!DOCTYPE html>
<html>
<head>
	<title>HTML-ViewParse</title>
	<script type="text/javascript" src="../build/0.3/HTML-ViewParse.debug.js"></script>
</head>
<body>


</body>
	
<script type="text/template" name="me">
	I am a {#if( {equa( {(sex)}{('woman')} )} )}girl({(sex)}){#else()}boy{/if()}.
	<hr />
	<div>
		<input value="{{name}}"><br	/>
		my name is {(name)}.
	</div>
</script>

<script type="text/template" name="if!">
	<hr/>
	<h2>haha!</h2>
	{#if( {(love)} )}
		you are my love!
	{#else()}
		I am what I am...
		{#if( {(too_young_too_simple)} )}
			But I am eager to love.
		{#else()}
			No Country For Old Men.
		{/if()}
	{/if()}
	<hr/>
</script>

</html>

<script type="text/javascript">
	ViewParser.scans();

	// var n = ViewParser.modules["me"];
	// var b = n();
	
	// b.append(document.body);
	// setTimeout(function (argument) {
	// 	b.set("sex","man");
	// 	b.set("name","Gaubee");
	// },100)
	// setTimeout(function (argument) {
	// 	b.set("sex","woman");
	// 	b.set("name","Lisa");
	// },2000);


	var aboutLove = ViewParser.modules["if!"];
	var s = aboutLove();
	s.append(document.body);

	// setInterval(function(){
	// 	var t1 = Math.floor(Math.random()*1000);
	// 	setTimeout(function() {
	// 		s.set("love", !(t1%2));
	// 	},t1);
	// 	var t2 = Math.floor(Math.random()*1000);
	// 	setTimeout(function() {
	// 		s.set("too_young_too_simple", !(t2%2));
	// 	},t2);
	// 	console.log(t1,t2,!(t1%2),!(t2%2))
	// },2000);
	setTimeout(function() {
		s.set("love", false);
		s.set("too_young_too_simple", false);
	},1000);
	setTimeout(function() {
		s.set("too_young_too_simple", true);
	},2000);
	setTimeout(function() {
		s.set("love", true);
	},3000);
	setTimeout(function() {
		s.set("too_young_too_simple", false);
	},4000);

</script>